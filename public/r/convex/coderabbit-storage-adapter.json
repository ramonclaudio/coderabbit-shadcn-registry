{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "coderabbit-storage-adapter",
  "type": "registry:lib",
  "title": "CodeRabbit Storage Adapter Interface",
  "description": "TypeScript interface for implementing custom storage backends. Implement this to add support for any database: Convex, Supabase, Prisma, PostgreSQL, MySQL, MongoDB, localStorage, IndexedDB, or in-memory storage.",
  "registryDependencies": [
    "coderabbit-types"
  ],
  "files": [
    {
      "path": "registry/default/coderabbit/lib/storage-adapter.ts",
      "content": "/**\n * Storage Adapter Interface\n * Implement this interface to create custom storage backends for CodeRabbit reports\n */\n\nimport type {\n  StoredReport,\n  ReportResult,\n} from '@/registry/default/coderabbit/lib/types'\n\n/**\n * Report storage adapter interface\n *\n * Implement this interface to add support for any database or storage system:\n * - Convex, Supabase, Prisma, Drizzle\n * - PostgreSQL, MySQL, MongoDB\n * - localStorage, IndexedDB\n * - In-memory (testing)\n * - Custom APIs\n */\nexport interface ReportStorageAdapter {\n  /**\n   * Create a pending report record\n   * @returns The ID of the created report\n   */\n  create(\n    data: Omit<StoredReport, 'id' | 'results' | 'status' | 'createdAt'>,\n  ): Promise<string>\n\n  /**\n   * Update report with successful results\n   */\n  updateSuccess(\n    id: string,\n    results: ReportResult[],\n    durationMs: number,\n  ): Promise<void>\n\n  /**\n   * Update report with failure error\n   */\n  updateFailure(id: string, error: string, durationMs: number): Promise<void>\n\n  /**\n   * Get report by ID\n   * @returns Report or null if not found\n   */\n  get(id: string): Promise<StoredReport | null>\n\n  /**\n   * List all reports (with optional pagination)\n   * @returns Array of reports sorted by createdAt descending\n   */\n  list(options?: { limit?: number; offset?: number }): Promise<StoredReport[]>\n\n  /**\n   * Delete report by ID\n   */\n  delete(id: string): Promise<void>\n}\n",
      "type": "registry:lib"
    }
  ],
  "categories": [
    "storage",
    "database"
  ]
}